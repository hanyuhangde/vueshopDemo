<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>es6demo</title>
</head>
<body>
<h2>ES6Demo演示</h2>
<script>
  function sum(x,y,z) {
    let total = 0;
    if(x){total+=x;}
    if(y){total+=y;}
    if(z){total+=z;}
    console.log(`total:${total}`)
  }
  sum(5,'',10);
  function sum2(...m) {
    let total=0;
    for(var i of m ){
      total+=i;

    }
    console.log(`total:${total}`)
  }
  sum2(2,3,3,3,3,3);
  let sum3 = (...m)=>{
    let total=0;
    for(var i of m ){
      total+=i;
  }
    console.log(`total:${total}`)
  };
  sum3(2,2,2,2,2);
  var [x,y] = [4,8];
  console.log(...[4,8]);
  let arr1 = [1,3];
  let arr2 = [4,8];
  console.log("concat:" +arr1.concat(arr2));//数组合并
  var [x,...y] = [4,8,9,4,5];
  let [a,b,c] = "ES6";
  let xy = [...'es6'];

  //promise
  let checkLogin = function () {
   return new Promise(function (resolve,reject) {
      let flag = document.cookie.indexOf('userId')>-1?true:false;
      if (flag=true) {
        resolve({
          status : 0,
          result : true
        })

      }else{
           reject("error");
      }
    })
  };
  let getUserInfo = ()=>{
    return new  Promise((resolve,reject)=>{
      let userInfo = {
        userId:'101'
      }
      resolve(userInfo);
    });
  }
  checkLogin().then((res)=> {
    if(res.status==0){
      console.log("login success");
      return getUserInfo();
    }
  }).catch((error)=>{
    console.log(`error:${error}`)
  }).then((res2)=>{
    console.log(`userId:${res2.userId}`)
  });
  Promise.all([checkLogin(),getUserInfo()]).then(([res1,res2])=>{
    console.log(`result1:${res1.result},result2:${res2.userId}`)
  })
</script>
</body>
</html>
